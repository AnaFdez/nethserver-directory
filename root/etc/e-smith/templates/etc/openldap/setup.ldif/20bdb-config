{
        my $NSLCDUID = `id -u nslcd`;        
        chomp $NSLCDUID;
        my $LDAPSUFFIX = 'dc=directory,dc=nh';
        $OUT .= <<TEMPLATE;
# 20bdb-config fragment

dn: olcDatabase={2}bdb,cn=config
olcSuffix: $LDAPSUFFIX
olcAccess: to *
  by dn.regex="^gidNumber=[0-9]+\\+uidNumber=(0|$NSLCDUID),cn=peercred,cn=external,cn=auth\$" manage
  by * break
olcAccess: to attrs=userPassword
  by anonymous auth
  by * break
olcAccess: to attrs=entry,\@shadowAccount,\@posixAccount,\@account
  by anonymous read
TEMPLATE
}
